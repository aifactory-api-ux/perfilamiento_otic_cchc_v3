# Perfilamiento_OTIC_CCHC_v3 - Code Reference

**Generated by IA-Factory Developer Agent**  
**Date**: 2026-02-09 22:46:22 UTC

---

## Table of Contents

1. [Configuration](#configuration)
2. [Models](#models)
3. [Services](#services)
4. [Database](#database)
5. [Utilities](#utilities)
6. [Frontend](#frontend)
7. [Infrastructure](#infrastructure)
8. [Tests](#tests)
9. [Documentation](#documentation)
10. [Other](#other)

## Configuration

### `backend/package.json`

**Description**: package.json implementation

**Size**: 1201 characters

### `backend/tsconfig.js`

**Description**: tsconfig.js implementation

**Size**: 73 characters

**Key Elements**:
- `tsconfig`

### `backend/tsconfig.json`

**Description**: tsconfig.json implementation

**Size**: 496 characters

### `frontend/package.json`

**Description**: package.json implementation

**Size**: 598 characters

---

## Models

### `backend/src/profiles/entities/profile.entity.ts`

**Description**: profile.entity.ts implementation

**Size**: 610 characters

**Key Elements**:
- `Profile`

### `backend/src/users/entities/user.entity.ts`

**Description**: user.entity.ts implementation

**Size**: 417 characters

**Key Elements**:
- `User`

---

## Services

### `frontend/src/__tests__/services/auth.service.test.js`

**Description**: auth.service.test.js implementation

**Size**: 2690 characters

**Key Elements**:
- `KeycloakMock`
- `buildKeycloakMock`
- `loadService`
- `module`
- `instance`
- `service`
- `first`
- `second`
- `updated`
- `profile`

### `frontend/src/services/api.service.js`

**Description**: api.service.js implementation

**Size**: 667 characters

**Key Elements**:
- `api`
- `token`

### `frontend/src/services/auth.service.js`

**Description**: auth.service.js implementation

**Size**: 1543 characters

**Key Elements**:
- `AuthService`
- `authenticated`
- `tokenParsed`
- `profile`

---

## Database

### `backend/src/common/database/database.module.ts`

**Description**: database.module.ts implementation

**Size**: 1012 characters

**Key Elements**:
- `DatabaseModule`
- `sslEnabled`

---

## Utilities

### `backend/src/common/decorators/api-query.decorator.ts`

**Description**: api-query.decorator.ts implementation

**Size**: 525 characters

**Key Elements**:
- `ApiQueryDecorator`
- `decorators`

### `backend/src/common/decorators/api-response.decorator.ts`

**Description**: api-response.decorator.ts implementation

**Size**: 1346 characters

**Key Elements**:
- `ApiResponseDecorator`

### `backend/src/common/interceptors/response.interceptor.ts`

**Description**: response.interceptor.ts implementation

**Size**: 731 characters

**Key Elements**:
- `ResponseInterceptor`
- `request`

### `frontend/src/utils/constants.js`

**Description**: constants.js implementation

**Size**: 268 characters

**Key Elements**:
- `API_BASE_URL`
- `KEYCLOAK_URL`
- `KEYCLOAK_REALM`
- `KEYCLOAK_CLIENT_ID`

---

## Frontend

### `frontend/src/__tests__/components/Login.test.js`

**Description**: Login.test.js implementation

**Size**: 303 characters

### `frontend/src/__tests__/components/Login.test.jsx`

**Description**: Login.test.jsx implementation

**Size**: 1529 characters

**Key Elements**:
- `authMock`
- `button`

### `frontend/src/components/Layout/Layout.js`

**Description**: Layout.js implementation

**Size**: 40 characters

### `frontend/src/components/Layout/Layout.jsx`

**Description**: Layout.jsx implementation

**Size**: 1656 characters

**Key Elements**:
- `Layout`
- `handleLogout`
- `showUsers`

### `frontend/src/components/Login/Login.js`

**Description**: Login.js implementation

**Size**: 39 characters

### `frontend/src/components/Login/Login.jsx`

**Description**: Login.jsx implementation

**Size**: 771 characters

**Key Elements**:
- `Login`

### `frontend/src/components/ProtectedRoute/ProtectedRoute.js`

**Description**: ProtectedRoute.js implementation

**Size**: 48 characters

### `frontend/src/components/ProtectedRoute/ProtectedRoute.jsx`

**Description**: ProtectedRoute.jsx implementation

**Size**: 370 characters

**Key Elements**:
- `ProtectedRoute`
- `location`

### `frontend/src/components/RoleGuard/RoleGuard.js`

**Description**: RoleGuard.js implementation

**Size**: 537 characters

**Key Elements**:
- `RoleGuard`
- `hasRole`

### `frontend/src/components/RoleGuard/RoleGuard.jsx`

**Description**: RoleGuard.jsx implementation

**Size**: 537 characters

**Key Elements**:
- `RoleGuard`
- `hasRole`

### `frontend/src/pages/Home/Home.js`

**Description**: Home.js implementation

**Size**: 38 characters

### `frontend/src/pages/Home/Home.jsx`

**Description**: Home.jsx implementation

**Size**: 743 characters

**Key Elements**:
- `Home`
- `profile`

### `frontend/src/pages/Profiles/ProfileForm.js`

**Description**: ProfileForm.js implementation

**Size**: 45 characters

### `frontend/src/pages/Profiles/ProfileForm.jsx`

**Description**: ProfileForm.jsx implementation

**Size**: 3085 characters

**Key Elements**:
- `ProfileForm`
- `defaultValues`
- `handleChange`
- `handleSubmit`
- `skills`
- `certifications`

### `frontend/src/pages/Profiles/ProfileView.js`

**Description**: ProfileView.js implementation

**Size**: 45 characters

### `frontend/src/pages/Profiles/ProfileView.jsx`

**Description**: ProfileView.jsx implementation

**Size**: 1462 characters

**Key Elements**:
- `ProfileView`

### `frontend/src/pages/Profiles/Profiles.js`

**Description**: Profiles.js implementation

**Size**: 42 characters

### `frontend/src/pages/Profiles/Profiles.jsx`

**Description**: Profiles.jsx implementation

**Size**: 3417 characters

**Key Elements**:
- `Profiles`
- `navigate`
- `handleCreate`
- `handleEdit`
- `handleSubmit`
- `handleDelete`

### `frontend/src/pages/Users/UserForm.js`

**Description**: UserForm.js implementation

**Size**: 42 characters

### `frontend/src/pages/Users/UserForm.jsx`

**Description**: UserForm.jsx implementation

**Size**: 1983 characters

**Key Elements**:
- `UserForm`
- `defaultValues`
- `handleChange`
- `handleSubmit`
- `roles`

### `frontend/src/pages/Users/Users.js`

**Description**: Users.js implementation

**Size**: 39 characters

### `frontend/src/pages/Users/Users.jsx`

**Description**: Users.jsx implementation

**Size**: 2966 characters

**Key Elements**:
- `Users`
- `handleCreate`
- `handleEdit`
- `handleSubmit`
- `handleDelete`

---

## Infrastructure

### `.dockerignore`

**Description**: Dependencies

**Size**: 665 characters

### `Dockerfile`

**Description**: Dockerfile implementation

**Size**: 508 characters

### `backend/Dockerfile`

**Description**: syntax=docker/dockerfile:1

**Size**: 535 characters

### `docker-compose.yml`

**Description**: docker-compose.yml implementation

**Size**: 3237 characters

### `frontend/Dockerfile`

**Description**: syntax=docker/dockerfile:1

**Size**: 613 characters

### `keycloak/Dockerfile`

**Description**: Dockerfile implementation

**Size**: 966 characters

### `run.bat`

**Description**: run.bat implementation

**Size**: 785 characters

### `run.sh`

**Description**: !/usr/bin/env sh

**Size**: 896 characters

---

## Tests

### `backend/test/app.e2e-spec.ts`

**Description**: app.e2e-spec.ts implementation

**Size**: 3678 characters

**Key Elements**:
- `AllowAllGuard`
- `req`
- `users`
- `profiles`
- `usersService`
- `profilesService`
- `response`

### `backend/test/auth.e2e-spec.ts`

**Description**: auth.e2e-spec.ts implementation

**Size**: 3821 characters

**Key Elements**:
- `PRIVATE_KEY`
- `PUBLIC_KEY`
- `buildContext`
- `handler`
- `reflector`
- `context`
- `token`
- `result`
- `request`

### `backend/test/profiles.e2e-spec.ts`

**Description**: profiles.e2e-spec.ts implementation

**Size**: 5173 characters

**Key Elements**:
- `AllowManagerGuard`
- `req`
- `createdAt`
- `profilesService`
- `response`

### `backend/test/users.e2e-spec.ts`

**Description**: users.e2e-spec.ts implementation

**Size**: 4423 characters

**Key Elements**:
- `AllowAdminGuard`
- `req`
- `createdAt`
- `usersService`
- `response`

### `frontend/src/__tests__/App.test.js`

**Description**: App.test.js implementation

**Size**: 371 characters

### `frontend/src/__tests__/App.test.jsx`

**Description**: App.test.jsx implementation

**Size**: 1446 characters

**Key Elements**:
- `renderWithRouter`
- `container`
- `root`

---

## Documentation

### `DEVELOPMENT_PLAN.md`

**Description**: DEVELOPMENT PLAN: Perfilamiento_OTIC_CCHC_v3

**Size**: 10735 characters

### `README.md`

**Description**: Proyecto: Perfilamiento OTIC CCHC

**Size**: 1930 characters

---

## Other

### `.gitignore`

**Description**: Dependencies

**Size**: 619 characters

### `backend/jest.config.js`

**Description**: jest.config.js implementation

**Size**: 1679 characters

### `backend/nest-cli.js`

**Description**: nest-cli.js implementation

**Size**: 71 characters

**Key Elements**:
- `nestCli`

### `backend/nest-cli.json`

**Description**: nest-cli.json implementation

**Size**: 117 characters

### `backend/package.js`

**Description**: package.js implementation

**Size**: 62 characters

**Key Elements**:
- `pkg`

### `backend/src/app.module.ts`

**Description**: app.module.ts implementation

**Size**: 610 characters

**Key Elements**:
- `AppModule`

### `backend/src/auth/auth.module.ts`

**Description**: auth.module.ts implementation

**Size**: 985 characters

**Key Elements**:
- `AuthModule`

### `backend/src/auth/decorators/roles.decorator.ts`

**Description**: roles.decorator.ts implementation

**Size**: 120 characters

**Key Elements**:
- `Roles`

### `backend/src/auth/guards/keycloak-auth.guard.ts`

**Description**: keycloak-auth.guard.ts implementation

**Size**: 1949 characters

**Key Elements**:
- `KeycloakAuthGuard`
- `request`
- `token`
- `envKey`
- `publicKey`
- `requiredRoles`
- `userRoles`
- `hasRole`

### `backend/src/auth/strategies/keycloak.strategy.ts`

**Description**: keycloak.strategy.ts implementation

**Size**: 894 characters

**Key Elements**:
- `KeycloakStrategy`
- `envKey`
- `publicKey`

### `backend/src/main.ts`

**Description**: main.ts implementation

**Size**: 1168 characters

**Key Elements**:
- `bootstrap`
- `app`
- `configService`
- `swaggerConfig`
- `document`
- `port`

### `backend/src/profiles/dto/create-profile.dto.ts`

**Description**: create-profile.dto.ts implementation

**Size**: 766 characters

**Key Elements**:
- `CreateProfileDto`

### `backend/src/profiles/dto/profile-response.dto.ts`

**Description**: profile-response.dto.ts implementation

**Size**: 567 characters

**Key Elements**:
- `ProfileResponseDto`

### `backend/src/profiles/dto/update-profile.dto.ts`

**Description**: update-profile.dto.ts implementation

**Size**: 828 characters

**Key Elements**:
- `UpdateProfileDto`

### `backend/src/profiles/profiles.controller.ts`

**Description**: profiles.controller.ts implementation

**Size**: 2375 characters

**Key Elements**:
- `ProfilesController`

### `backend/src/profiles/profiles.module.ts`

**Description**: profiles.module.ts implementation

**Size**: 451 characters

**Key Elements**:
- `ProfilesModule`

### `backend/src/profiles/profiles.service.ts`

**Description**: profiles.service.ts implementation

**Size**: 2929 characters

**Key Elements**:
- `ProfilesService`
- `profiles`
- `profile`
- `existing`
- `saved`

### `backend/src/reports/dto/report-request.dto.ts`

**Description**: report-request.dto.ts implementation

**Size**: 361 characters

**Key Elements**:
- `ReportRequestDto`

### `backend/src/reports/reports.controller.ts`

**Description**: reports.controller.ts implementation

**Size**: 1287 characters

**Key Elements**:
- `ReportsController`

### `backend/src/reports/reports.module.ts`

**Description**: reports.module.ts implementation

**Size**: 484 characters

**Key Elements**:
- `ReportsModule`

### `backend/src/reports/reports.service.ts`

**Description**: reports.service.ts implementation

**Size**: 1981 characters

**Key Elements**:
- `ReportsService`
- `profiles`
- `skillsMap`
- `skills`
- `query`

### `backend/src/users/dto/create-user.dto.ts`

**Description**: create-user.dto.ts implementation

**Size**: 473 characters

**Key Elements**:
- `CreateUserDto`

### `backend/src/users/dto/update-user.dto.ts`

**Description**: update-user.dto.ts implementation

**Size**: 490 characters

**Key Elements**:
- `UpdateUserDto`

### `backend/src/users/dto/user-response.dto.ts`

**Description**: user-response.dto.ts implementation

**Size**: 387 characters

**Key Elements**:
- `UserResponseDto`

### `backend/src/users/users.controller.ts`

**Description**: users.controller.ts implementation

**Size**: 2245 characters

**Key Elements**:
- `UsersController`

### `backend/src/users/users.module.ts`

**Description**: users.module.ts implementation

**Size**: 417 characters

**Key Elements**:
- `UsersModule`

### `backend/src/users/users.service.ts`

**Description**: users.service.ts implementation

**Size**: 2554 characters

**Key Elements**:
- `UsersService`
- `users`
- `user`
- `existing`
- `saved`

### `frontend/index.html`

**Description**: index.html implementation

**Size**: 623 characters

### `frontend/package.js`

**Description**: package.js implementation

**Size**: 62 characters

**Key Elements**:
- `pkg`

### `frontend/src/App.js`

**Description**: App.js implementation

**Size**: 37 characters

### `frontend/src/App.jsx`

**Description**: App.jsx implementation

**Size**: 1216 characters

**Key Elements**:
- `App`

### `frontend/src/hooks/useProfiles.js`

**Description**: useProfiles.js implementation

**Size**: 1370 characters

**Key Elements**:
- `useProfiles`
- `fetchProfiles`
- `response`
- `createProfile`
- `updateProfile`
- `deleteProfile`
- `getProfile`

### `frontend/src/hooks/useUsers.js`

**Description**: useUsers.js implementation

**Size**: 1148 characters

**Key Elements**:
- `useUsers`
- `fetchUsers`
- `response`
- `createUser`
- `updateUser`
- `deleteUser`

### `frontend/src/main.js`

**Description**: main.js implementation

**Size**: 21 characters

### `frontend/src/main.jsx`

**Description**: main.jsx implementation

**Size**: 623 characters

**Key Elements**:
- `root`

### `frontend/src/styles/theme.js`

**Description**: theme.js implementation

**Size**: 653 characters

**Key Elements**:
- `theme`

### `frontend/vite.config.js`

**Description**: vite.config.js implementation

**Size**: 169 characters

### `frontend/vitest.config.js`

**Description**: vitest.config.js implementation

**Size**: 790 characters

### `scripts/generate-files.py`

**Description**: Utility for generating local configuration files.  This script is intended for developers to bootstrap non-business configuration files such as .env or docker-compose overrides.

**Size**: 3825 characters

**Key Elements**:
- `write_file`
- `generate_env`
- `generate_compose_override`
- `build_parser`
- `main`

---
